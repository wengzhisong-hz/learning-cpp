# 内存模型和命名空间

## 编译过程

1.  预编译

    1.  处理`#`开头的宏指令，如`#include、#define`

    2.  生成`.ii`文件

2.  编译和汇编

    1.  经过词法、语法分析和优化后，将`.ii`文件编译为汇编文件

    2.  将汇编代码编译成机器代码

3.  链接

    1.  采用静态或者动态链接的方式解决符号依赖、库依赖问题

## 变量作用域和生命周期

1.  栈区

    1.  函数参数、局部变量等

    2.  自动储存

    3.  程序执行完函数、代码块之后被释放

2.  堆区

    1.  `new malloc`

    2.  手动储存

    3.  调用`delete free`之后被释放

3.  全局区（静态区）

    1.  全局变量、静态变量

    2.  程序结束之后被操作系统释放

4.  程序代码区

    1.  二进制代码、字符串常量、其它常量（如#define）

    2.  程序结束之后被操作系统释放

### 静态变量链接性

1.  外部链接性

    1.  可以在其它文件中访问

    2.  必须在代码块外面声明

2.  内部链接性

    1.  只能在当前文件中访问

    2.  必须要代码块外面声明，并使用static限定符

    3.  const全局变量为内部链接性

3.  无链接性

    1.  只能在当前函数或代码块中访问

    2.  必须在代码块内声明，并使用static限定符
